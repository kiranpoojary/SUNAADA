<%@page import="java.io.InputStream,java.nio.file.*"%>
<%@page import="javax.servlet.http.Part"%>
<%@page import="javax.servlet.annotation.MultipartConfig" %>
<%@page import="java.util.Base64"%>
<%@page import="com.mysql.jdbc.PreparedStatement"%>
<%@page import="java.util.Properties"%>
<%@page import="java.io.FileInputStream"%>
<%@page import="java.io.PrintWriter"%>
<%@page import="java.sql.DriverManager"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.ResultSet"%>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<form name="add" action="" method="get" enctype='multipart/form-data'>
	
	<%
	
	System.out.println("inserted111");
	
	
	
	
		String instruName = request.getParameter("iname");
		String instruCat = request.getParameter("cat");
		String instruDesc = request.getParameter("desc");
		double instruPdf = Double.parseDouble(request.getParameter("pdf"));
		double instruDeposite = Double.parseDouble(request.getParameter("deposite"));
		int instruStock = (Integer.parseInt(request.getParameter("stock")));
		
		Part filePart1 = request.getPart("pic1");
		//0xffd8ffe000104a46494600010100000100010000ffdb00840009060712121215121213151515151510101515151510151015151515161615151715181d2820181a251d151521312125292b2e2e2e171f3338332d37282d2e2b010a0a0a0e0d0e171010172b1d1d1d2b2b2d2d2b2d2d2b2d2b2d2d2d2d2d2b2b2b2d2d2b2d2d2d2d2d2d2b2d2d2d2d2d2d2d372d2b2b2d2d2d372d372d2d2b2b37ffc000110800ea00d803012200021101031101ffc4001c0000020203010100000000000000000000040503060002070108ffc400401000010302040305060403060701000000010002030411051221310641511322617181324291a1b1c107142352d1e1f0248292a2b2f1163334436272c315ffc400190100030101010000000000000000000000010203000405ffc4002411010100020202010403010000000000000001021103211231411322325104617114ffda000c03010002110311003f0054c0a5685185234a7225685a3d6192ca3cd759923023206a1e209852310a2329a04c628d0f0a3234945346d4400a2629425a2d8356d95605b849463c0c5842deebc21255b1888b16a6353d96009540fd9289f1234b546e6a30b4b24810735284e646a1246278864ae565083c924a9a1b5d5be76259530a7953aa6d453d904f89596b29d2a9a2b2794a5658b47231ec50ba34db606e6ac4498d623b65983d619142c2a40130bd0eba9a36ad18d45451dd064903532a70a1a78134a7a742b368422e30b78a04532149451b0295aa411a82aaae2880323dadbe82e45c9e806e5298402b0bd55b13e2619fb36870777c59c329d080d738dee1a7bc7d0792ade398c88eec2253980cee6657341e84df4ff65bc2d18e9b14a08b82083b11b2ddd200753c89b780541a2c5626fb264cd62ed0345fced9ae3e4975663cf2fddcdcaed1a58d36dbde68bf9dd2de2aaccdd39d3345ae46a6c3c4f82dfb4039f3b2e692e252136b8cc73105c49ee93c8d89034b7a22a86b1cd6b4b867cc5c1adce5d9b2fb566fbc47543e937d47436b81d883e22cbc2c55cc3f89637d806eb7ca00205f6d0836b78795ba2b1c72070047300f8a5b8d8dbda17b10d2311ce513dab274a678d2f9e309dcd1a5950c4c4a475705d22ab8acacf3b526ad8d1d9291bdaa22c45cacd540e6a6db202d58b67ac458d2344c6d50c41151355a992c71a654d021a9989d52c4941bd353a67042bca7891f14696b323894b200d04936b6be8a56b4017e8093e8b9b7e217143e2a93031e5ad30b438b49cc0b8937f81b7aa126cd05e3fc5e18e21ba8dac081a79aa3b2bf3ce257b9e48bd8662486d8f746bb1d12fc46a6fe3d0ea081c92f82770d79aae38e8c790e20e687ce477dd206305f670209207400fc4a9df8b17b4b64ef6dae976bbf9ea3e0abf4d31008dc0e5e1d7cc58147b4b4eaeb8beba1b123c0f5f34d63431a6ad8d8e616b40defb1cb71639491a7a5bad94b2e2b707331aed5a33b8349279bbc2fba455600f65c1c3d4143071235dbe8b6987d4e24edd9ddb1bf774173bd87252c38cbfb321c6e439c5a7a38802ff4f82559ec2dbf8eb7def7f35e324d0fc8f4fe85d1d403bfcf173c48080e7652f00d9c4e9af9f77959745c0f89dad85a5e0921a0b9c5c05b96be82feab955336d6772f121a0db90bee9cd035ef0034387316db41b5b9052cf194d1da735f51b2f1c85a077e9b3ff56fd14af72e51ad24296d522a57a5d553224a0e7093d6261533a553beeb128099a857b5173142bca6801646ac523d62763785a8a8daa38188b63154c268da9f523126a46a7b4696818c0c46c4c43d384744d4a24fc65881a6a29a56fb59720e9793b80fa5efe8b83711d5f6b31773daebb2fe2c3f2d06c4b4cd08758db4d4fd97099df7713aea4d9578e1a3d602e3608b7d339ba5936e1bc1c9b4879a7cec3013b25cf964ba5f1e2dc52994e6fb11e214c29dc6c35f0ff65d130de1f126f6e9b5ae9d41c22c034001d35b24fac378a4f97248f0d7922c0ebf04f30fe1299dee8d76be6b6bd480ba7d270d46ddc5cf53ba7d4f87b001a21796878e31c3311e1295aeca05edb917d2dbf2401c1e467b4db684826e17d1430f8f9346bbf8a1aa30189e35683f65a7352ea3e719253ef1766d00d6e3c77d7e08dc36a9ec734e6f302e74574e3ae0831032c42edd5c40f45cfa0908d39ea0792b6394ca16cd3b7f0ccbda40d70eae6fa8299c8c55cfc2f9b352b86bdd91dfe600eeadb246b932eab1354c490d6122ead53c6916210ee8155e99e85911755159012c88c4e869dc8479534ce43393c068f72c5a48b13e996d898896851b0290273d134c13aa429352a714a8529c53947c69753261125157ff0012e10ec36a2feeb4483cda468be7fa76ddc1772fc5fa9c987380ff00b92451f2db571ff4ae194e6ce56e3fc4d1d330fb762db0b587d914cdbe692e07525cc00f4b27b08bb7e2b8b2f6efc7d19e19536d3ecac34f3e8ab187c26eacd4307f140b90e8de896beca163110d60452ad84d653364ba84c2b182cb037ab81ae639ae170410be75c7a8843348d02e048f0d2376d9db2fa2a692cd257cf9c4d561d24be3349f27382b70fb265e9d0ff08dc0d1bfaf6cfbff0085b657573551ff00085c4c1203b67cc0f9803ecafa5a933fca9404cc493108f756295a93d6b5202a55cc496a8595931262aed62689d2d91ca27397b2a80b9524063caf546e72c4da65d332ddae513cad5ae4ca534a429c53948a95c9b412214a734c53188a534cf4c62725623fc4ec31d51874ad60bba32da8b73223be603d095f3fc1a903a91f35f4ed7d5c5144f7cc6d18690edcdc11622c37baf9bf168638ea1e22378bb426324169c97b8163a8b5eca9c77dc3632fb5be85b96cd1c805648a7640cbcae0dbf2e7f055c84d8dfc0594155083de91de649d82e6b375ddf0b3ff00c5b48d36cc7d014db0ce28a77901b25cf9ae5b3d451836bbdc7c1a6df12a7a79a21ecb729df504393de3ebd54e5dd76e86ac1db5593e28d8c667bac2daaab700ccfa8075d069ba8f8bea031c58ed86f7d947b378cd9ec3c7745723b6048dc2718663f4d51a45235c472bae1ceaea10ff00d563ec75eeb4ebaee3aab7f0f0c3a43fd965735ffb5d9d84f907017f42a971d4deaa7677edd42a22b8b72370be73e21a731d54d19f76690fa1713f42bbfe0b9b296b9c5d6dae6e7c9716fc4882d894e00b92e69006e6f183a27e0f69e5fa74cfc34a431d0b2e2c5ce7bbcc6c15a1c169454bd9451b2c0598c1a6db052394b2bba50d284a2b02712a53569682bd8835566bdbbab4e2015631309b1252294a19ca590a19c55e15e38ac5a38ac4c2bbc8b40546e7ad332c7308254ce96548237a6349221434b352c899c2f4829644ce1952337e238f3d24c3988dce1e6d1987d171ac4606cb017dace68cc3c755dacb838169d882d3e4458ae3b8dc2237be986cd716fa6e87cee3a786ef1b89852464dade1f450d760ae7fb57237d364661120201ea2ead1471877253b6cbd2df0a533876391d99e25bd80396dde23ae9f744d7f0f677093291601b6b80001a0160ba0c34cdf4f92598dce183436e4137d4bfb278cdfa7bf8650b6173e3dcdf37d027fc4dc3eca90f0581d7373724136db5092704b9bdb120f4faabf4e0037ea97fb2e7d5726ace08612d6ba291c1a2c0b5eed05f6dc1faa7543c110bc303985a182cc20e57b45ee79ebaebaabe372bb6b15206847caebd977fd17e1b86f642d99ceb69771d55726c259ffe9d45416677b62a731dfd8199af0e3e7dcb2b91d12991bfda7301a39ac88ff74b9dff00d12cba69ddedbe16f90c61d21bb9c5ce3d06ba008a2e5a800683968bc71413ceeeda8a6294d59dd319dc9454bd0a429ae2ab389ab0d739567137a6c4948274338a26a020dc574e20d1e562f1e562715b4b965d4456cd4aa240e4751bd0002369c24ac754d2a6114c9340516c7a4db1bb67f1545e33a369a82f23da6b5c08dee343f41f15686c885c570f1381ad9cdbd8f9f2286d4e2ca63976a66112e505b7f6491e8ad94388d80554a9a57413398eb6ed3a6c4380374c2024ede49738eac2cab8c189777c7fae692e295c1b234c8db8209009b36ea282a9acd5df5d0a55c4b389800dd6d63f14318d6c87dc33c511768e36163a697d2dc88b68aecce2788c8c87bce73f60038f2e66d61ea42e3983504c5c32b1c6e77dc2e87c2d86ccdfd478687dc8b122f6d46c9ac4f2b2fc1a54544b4cfb9d58ebfa6a9c536201c01084ab9b334b656fadb440d0445a6db8d3e0762a77a09665161338217b86c232976e5ce7bae6da5f603d059011022f7e5653d3d63b2580b0d45f9efd1184cba6665e12b4baf0b9046a29ca53525329dda2535050a04f5e5576b997562ac496a82684aae54b12e784e6b1a954ad5d38500ce58bd7858aa2b610b76b57965200a6abcca8d80211170a5ac3a144b50b0144b4a9d04814ac500729e35994fe348f2ced7fee8dbe57639c3ee145433ebe1769bf82b171561a65833345dd1ddd6e65a459c07c8fa2a4e1d35b4274d1b7fa2366e2fc591b62387bdf731b43b5245cbac02869e96a069998d1b59ba9f894561f5a412dbdec74d54d514f9f9907c12796ba5e4f94d86e0ee79ffa99633cfbadb1b5ba15646f08c6fb1334ee3fbaf101f369549661f5249eccbc8db4bab870de1d50dca657bb91ca4d8697fe29ade8b9725f832a4e18923f66b27b68430888b3cae5b74ce9aed600fb66db41a291f3920e5e496e2154596bf3d75d14edd93d98c9391ebd0e9644427ba0dad717f8eaab3844d254cbd983a1399c6da3631bf9f45697ff002f8688e92cda38a89ce58f7281cf42a75acefd12ba828c9de974ee40969754a5552135a94aea5342925584aa609cd4b52ba96ab62c5ef58b240b158da5b82dd6a16e9546046448208d8925617129c143c4a5ba4a09988a88212246c2b00ca70b9671352763512d877739b81eef316f05d562547e30800a97ff00e4d63be2db7d91974a71cddd2b5433f7b7fe7e6ac06ac696dc74e6aa73d33987bbb74e614b0d578fa734d7097b8accac747c3f18b585c6be42dfc53f87136b9a7c072b5f9ae4d1d7e616b6dcfd560c624008befae961b69ba4fa742e51d3e6c5da2cd171a13e56eaabb3636e9640c6f7a477758ddc5dd601c6dc878aab41532ca7bb7276b9d5be41743e0bc0843df76af3cf9ea8592045938570714ccd7bd23b2e779dc917d07468b9b0444fb9f328f81075cdd491b5ec7c0a59da79d033390af7a965721642948866720a528a950b285b44a0674be76a65334a0666a6805550c4aea589cce12da86a794d212cd1ac45c912c56954f13f6ac58d58560603aa36340b7746c496b0b88adc95146b7254d854451b014ba272369dc9a4d85193553236e67b835bd5c6ca938ee2f0d4cc1d0b8b835a18e3620137245956f8ab137cd33f312435ce6b47ba00246c87c0a5ef11e1f756cf8a4c68f15fba1e5453870f141494406e2fe8364c415e85cd2d8ecb252a1423600ff4531c33040fdc7c8f2f144c4d17572c169d81a0842e742e3234c17060cb77479f256ea76db92169c008a69489da36392c2e761aa5d87d4e62ebea1e5c7e7a20f19ad36113777efe0d1ba1e39036dcb95c7c9767071ef1b6b979b2ee430aca52d3d472282746985648e921786e8f0330ded99a2e127c42b43246381f6d84bdbcae2d95cd1cb9823c90ff009adf449c9fb49d82dbf28a28b146787dd1b1d74677b8f9a9de1ca7c1b701c9443a206a284745646963b6703f5f82827810d36949aca2492aa0b2bd5652aae6254b6bad2298ab1335629a766abc4ebc83c2c2b02c2991791ee8f882023dd1f1a4ac25817ae0bc62c7a406cd72d66af11be2cc6c1ce209e9a7f35a5d23e2c92c22f379ff004aaf17e50b97a55f14616cb231e2c43df7ff001120f95acbdc2e12dfd4e47badf1ea7c93b652475790bc9124632badbcac68b817ea3e883c42a439ddd166801ad68d8057e5cbe0dc73e46432dd16c49e17a6b4b25c2e4cb1754c93c5beaad182b7281aaae319add5870d905829d86b7a5a60940d39aca9ac0d04f34ac548015738a3884318e68777c8b000fb37e67c53e1c772ba8e7cf290ea91ee9242f3cfbadf00980a52ed0fc39dc2e3545c4d57038164ae70e6d7d9cc77983b7a5974ae18fc47a59f2b2a00824d06671bc4e3e0ef77c8af427db249f0e3cb1b6eeae345190d01c6fa11e2a838fd5033b9bfb096788b2e8f9c72008e4411a8f021735e2d664ab92def6479f5681f64fc377950900e63caea7c3eb2404ea2c817ca00fb050415b67db91d2eafa15a8626478f8688ea5c63c48f5b8f815459711cba8ebd56f163ba8b853cb8f1a3dba11ab0ee9e9a7c8a5988c770aa871876c36f208ba0c69c0d89b83c8edf351cbf8b3e0f33d02ad659c5627523a9e6f69b95db6669d3d42c51bc19c7463cd8e8b6cb57294851b94c8f22dd1d1a0a11aa39896b086af1e568fa8630b739b026c99cd086b7347af3beea57290f8f1dc824144e7117ee83cddfc156b8c400f64770435a4dc732e23e1b2bdd2ceda989c0e92305fcd734c6c9ed9c0ee0d95bf8f96f20e4c2631052485ae041b1bee3444d7d287fea3480e27565c0b9eadfe0826586a76e695999d23c1df501a39f801e2bb32d59db9e6e5dc36881db9a2e9a42d289abc3aa69d8d7d544446eb0ce0b5cf613c9d6fa144370973802dd4117046a08eab9739aff001d1865b35a0b387246b4e5e4a0c1289cd1678f54deb2905aeb9d5b55fc5f17746deeeaf26cd1d3a9f82ac188927358df5cce3af8a6b5f87f692925f603bb96daf5bdd78ca3819bdc9d97a7fc7e3d61bfdb879793eed2a55d0d8e9aa06561e69e56bdae7bb26d7d0a15d0dca3963d9b1bd18709f19545110d24c901203a3712728245dcc3ee9561e26c4db34e648cddb96300f5b0d7eaaab4f00e88dcdc86964f863aecb64db6ed9c56addeebc2745add519931ba89856d285e461014a1eb76cdb209afb2dc3f50b79068fa39c586bd3cd7a944afb0dd623b0d2cc7650bd7a6aa3fdedf8a864a967ee1f10bcb5d2c1ba34e8d276b026fd3440534ccb1717b4346e4916f4ea84c531e8ed91ae6816d7bda94f8f15cbbbe82e5a3182ac57d2e6d3b782cc945802e6fb92003adac7c5798362a5b785fe3baa961d8cb69aa1b335c08f664683a3e3768e16ebcc792b2e331466d2c4f6904073483bb5da8f9150e6e2f0cbfd75f0f27963aa6b453964b76f3d3c082aa5c427f5dde24fc9111bbb619dd2d9ba8c8d75b51a10e3ba5b8c08d962d7340d88bfc0a1c57c726e5c77284ab7f76dcc9b7a28a94e4735ed3de63d9237a5d8e0e1f30143354b5e1b95c2e2fa734542f63b7ee9ff29f3e8bbfdb87d2db8ff1b7e629cc3d99697e5cd72d2d167071cb617373d7651f05e3d1c44c53baccdd8e20d9a49d47973bf9aae49065199b6239806e5bfc942c9c8e57fb79259c524f11f2ef71dd0d280341bfcfa25f52eb34dc58854de17e3a34edecea03a48c039083795a7f6ebbb7e886c778edf35c45088c7ee2733cfd82e6bc396f4b4e488abab0768f75c7b440f21a0496a3102f366edccf33e1742173dc6e5c7aa95adb2f4265752473f8f7b6cc6d96c3c96357a42c2da23aa941f150c614ad09a03675978d0b0af1a516648568d5bc8b48f9acc81eb563b55ecaa288ea93e444d4bf503c02c50559effa05ead6f6cbb709b2121f984265eee5139223c999998b4feeb67f1be5d2c4af30dfcb09ea037b07481b0f64d91d1f6209cbf98c9da10d71073640e22e07555771d0f91fa245ee15cdc5c732ecd9574ac669681d1d4cb24a1ce8c92c6d3be08e36b442c7b7f4dd2924b9e5ec3909f674b28312c0e82a27fcbb191b1d2546210c4f8e506c4323929ae013fa64670390bae5e775251cce639ce638b4f6728bb4969b169045c722ab71b27b2ad182d250c9356464b44065a48e173ded12088d5b1af735e79e4b924722adb844386d8421d90064120ed2ae320f68f958e8812c16b766d779c9c85971c2bc7a967c7e53b3e396bd3b4d1f0fd03aa27644fce0d9f945443fa4452896ed02fdb5df99a403a6451d670e618e9638c39ee6ba3909bd452b58e20c591f9b3ddbed3eedb03a68342172dc26ba5647231923dad263bb5af7069ccecaeb806c6edd0f8689dbf65c9c93c6ba78b79cbba49252b63a99a36905ac7ccc690eccd2d6bec0875866045b5b0bef608ab2825ff9dfdcfba9c2ebe3ef17365356c60711b15ed89dc95b05e8542b19085280bc6af5c9b4cdaeb6056abc08826baf6ea35974592b5cb60eb2802d934a0203f9af2ea21f65e93afc16db3795cb56b96922d56db3c98ee8789daa926e6878b7496f6292a9dde27cbe8b14551ed15896dec5ffd9
		
		InputStream inputStream1=null; 
		if (filePart1 != null) {
			inputStream1 = filePart1.getInputStream();

		}
		
		Part filePart2 = request.getPart("pic2");
		InputStream inputStream2= null;
		if (filePart2 != null) {
			inputStream2 = filePart2.getInputStream();

		}
		
		int instruDiscount = (Integer.parseInt(request.getParameter("discount")));

		System.out.println(instruName);
		System.out.println(instruCat);
		System.out.println(instruPdf);
		System.out.println(instruStock);

		try {

			String dbUrl = "jdbc:mysql://localhost/sunada";
			String driverName = "com.mysql.jdbc.Driver";
			Class.forName(driverName);
			Connection connection = (Connection) DriverManager.getConnection(dbUrl, "root", "");
			System.out.println("inserted222");
			connection = DriverManager.getConnection(dbUrl, "root", "");
			String insertingQuery = "insert into instruments values(?,?,?,?,?,?,?,?,?)";
			PreparedStatement insertStatement = (PreparedStatement) connection.prepareStatement(insertingQuery);

			insertStatement.setString(1, instruName);
			insertStatement.setString(2, instruCat);
			insertStatement.setString(3, instruDesc);
			insertStatement.setDouble(4, instruPdf);
			insertStatement.setDouble(5, instruDeposite);
			insertStatement.setInt(6, instruStock);
			insertStatement.setBlob(7, inputStream1);
			insertStatement.setBlob(7, inputStream2);			
			insertStatement.setInt(9, instruDiscount);
			System.out.println("inserted333");
			int inserts=1;
			insertStatement.executeQuery();
			if (inserts > 0) {
				System.out.println("inserted");
				
			} else {
				System.out.println("Not");
			}
			
			
			
		}

		catch (Exception e) {
			e.printStackTrace();
			System.out.println("Not2");
		}
		
	%>
</form>
</body>
</html>